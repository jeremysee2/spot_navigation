<launch>
    <arg name="real_data" default="true"/>

    <group if="$(arg real_data)">
        <include file="$(find spot_driver)/launch/driver.launch">
            <arg name="username" default="dummyusername" />
            <arg name="password" default="dummypassword" />
            <arg name="hostname" default="192.168.80.3" />
        </include>
    </group>

    <!-- Start the World Object to AprilTag node -->
    <node pkg="spot_navigation" type="worldobj_apriltag.py" name="worldobj_apriltag" ns="worldobj_apriltag" output="screen">
    </node>

    <arg name="driver_config" default="$(find spot_navigation)/config/spot_nav.yaml"/>

    <!-- Start the Spot Navigation logging node -->
    <node pkg="spot_navigation" type="spot_nav.py" name="spot_nav" ns="nav_app" output="screen">
        <rosparam file="$(arg driver_config)" command="load" />
    </node>

    <!-- Start the RTABMap navigation stack -->
    <include file="$(find spot_navigation)/launch/rtabmap_spot.launch">
        <param name="rtabmap_args" type="string" value="--delete_db_on_start" />
    </include>
</launch>